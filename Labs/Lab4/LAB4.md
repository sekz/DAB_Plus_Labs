# LAB 4: ‡∏™‡∏£‡πâ‡∏≤‡∏á DAB+ Station Scanner

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏™‡πÅ‡∏Å‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+ ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏ö‡∏ö real-time
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ
- ‡∏û‡∏±‡∏í‡∏ô‡∏≤ GUI ‡πÅ‡∏ö‡∏ö touch-friendly ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ 7"

## ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏à‡∏≤‡∏Å Lab 1-3 (RTL-SDR, welle.io, pyrtlsdr)
- PyQt5 advanced GUI programming
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á SQLite database
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö DAB+ ensemble ‡πÅ‡∏•‡∏∞ services

## ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- **Raspberry Pi 4** ‡∏û‡∏£‡πâ‡∏≠‡∏° RTL-SDR V4 dongle
- **‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ HDMI 7"** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
- **‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏® DAB/FM** ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á
- **‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡πá‡∏ï** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies:

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á database ‡πÅ‡∏•‡∏∞ data processing tools
sudo apt install -y sqlite3 python3-sqlite3
pip3 install pandas matplotlib seaborn

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á GUI enhancements
pip3 install PyQt5 qtawesome

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á async programming support
pip3 install asyncio aiohttp
```

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 1. ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à DAB+ Ensemble Structure

```
DAB+ Ensemble (Multiplex)
‚îú‚îÄ‚îÄ Service 1 (‡πÄ‡∏ä‡πà‡∏ô Thai PBS Radio)
‚îÇ   ‚îú‚îÄ‚îÄ Primary Component (Audio)
‚îÇ   ‚îî‚îÄ‚îÄ Secondary Component (Data)
‚îú‚îÄ‚îÄ Service 2 (‡πÄ‡∏ä‡πà‡∏ô NBT Radio)
‚îî‚îÄ‚îÄ Service 3 (‡πÄ‡∏ä‡πà‡∏ô Voice TV Radio)
```

### 2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Lab GUI

```bash
cd Labs/Lab4
python3 lab4.py
```

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô `lab4.py`:

#### 1. DatabaseManager - ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:

```python
import sqlite3
from datetime import datetime

class DatabaseManager:
    def __init__(self, db_path="dab_stations.db"):
        self.db_path = db_path
        self.init_database()
    
    def init_database(self):
        """‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        with sqlite3.connect(self.db_path) as conn:
            cursor = conn.cursor()
            
            # ‡∏ï‡∏≤‡∏£‡∏≤‡∏á ensembles
            cursor.execute("""
                CREATE TABLE IF NOT EXISTS ensembles (
                    id INTEGER PRIMARY KEY,
                    frequency REAL NOT NULL,
                    ensemble_id INTEGER,
                    ensemble_label TEXT,
                    scan_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
                )
            """)
            
            # ‡∏ï‡∏≤‡∏£‡∏≤‡∏á services
            cursor.execute("""
                CREATE TABLE IF NOT EXISTS services (
                    id INTEGER PRIMARY KEY,
                    ensemble_id INTEGER,
                    service_id INTEGER,
                    service_label TEXT,
                    service_type TEXT,
                    bitrate INTEGER,
                    signal_quality REAL,
                    FOREIGN KEY (ensemble_id) REFERENCES ensembles (id)
                )
            """)
    
    def add_ensemble(self, frequency, ensemble_id, label):
        """‡πÄ‡∏û‡∏¥‡πà‡∏° ensemble ‡πÉ‡∏´‡∏°‡πà"""
        # TODO: ‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏° ensemble ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        pass
    
    def add_service(self, ensemble_id, service_id, label, service_type, bitrate, quality):
        """‡πÄ‡∏û‡∏¥‡πà‡∏° service ‡πÉ‡∏´‡∏°‡πà"""
        # TODO: ‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏° service ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        pass
```

#### 2. DABScanner - ‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:

```python
class DABScanner(QThread):
    ensemble_found = pyqtSignal(dict)
    service_found = pyqtSignal(dict)
    scan_progress = pyqtSignal(int, str)
    scan_completed = pyqtSignal(int, int)  # ensembles, services
    
    def __init__(self):
        super().__init__()
        self.frequencies = [
            174.928, 176.640, 178.352, 180.064, 181.936,
            183.648, 185.360, 187.072, 188.928, 190.640
        ]
        self.is_scanning = False
        
    def scan_all_frequencies(self):
        """‡∏™‡πÅ‡∏Å‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà DAB+"""
        total_freqs = len(self.frequencies)
        ensemble_count = 0
        service_count = 0
        
        for i, frequency in enumerate(self.frequencies):
            if not self.is_scanning:
                break
                
            self.scan_progress.emit(
                int((i / total_freqs) * 100),
                f"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô {frequency} MHz..."
            )
            
            # TODO: ‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πÅ‡∏Å‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà
            # 1. ‡∏£‡∏±‡∏ô welle-io ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ pyrtlsdr
            # 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤ ensemble
            # 3. ‡πÅ‡∏õ‡∏•‡∏á service information
            # 4. ‡∏™‡πà‡∏á signals
            
        self.scan_completed.emit(ensemble_count, service_count)
```

#### 3. StationListWidget - ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ:

```python
class StationListWidget(QWidget):
    station_selected = pyqtSignal(dict)
    
    def setup_ui(self):
        layout = QVBoxLayout(self)
        
        # Search box
        search_layout = QHBoxLayout()
        self.search_input = QLineEdit()
        self.search_input.setPlaceholderText(" ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ...")
        self.search_input.setMinimumHeight(40)
        self.search_btn = QPushButton("‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤")
        self.search_btn.setMinimumSize(80, 40)
        
        search_layout.addWidget(self.search_input)
        search_layout.addWidget(self.search_btn)
        layout.addLayout(search_layout)
        
        # Station tree
        self.station_tree = QTreeWidget()
        self.station_tree.setHeaderLabels([
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà", "‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û", "Bitrate", "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó"
        ])
        
        # ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™
        self.station_tree.setMinimumHeight(300)
        header = self.station_tree.header()
        header.setDefaultSectionSize(120)
        
        layout.addWidget(self.station_tree)
        
        # Filter buttons
        filter_layout = QHBoxLayout()
        self.all_btn = QPushButton("‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î")
        self.audio_btn = QPushButton(" ‡πÄ‡∏™‡∏µ‡∏¢‡∏á")
        self.data_btn = QPushButton(" ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•")
        
        for btn in [self.all_btn, self.audio_btn, self.data_btn]:
            btn.setMinimumSize(100, 40)
            filter_layout.addWidget(btn)
            
        layout.addLayout(filter_layout)
```

#### 4. SignalQualityMonitor - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û:

```python
class SignalQualityMonitor(QWidget):
    def setup_ui(self):
        layout = QVBoxLayout(self)
        
        # Signal meters
        self.rssi_meter = QProgressBar()
        self.rssi_meter.setOrientation(Qt.Horizontal)
        self.rssi_meter.setRange(-100, -20)
        self.rssi_meter.setValue(-60)
        self.rssi_meter.setFormat("RSSI: %v dBm")
        
        self.snr_meter = QProgressBar()
        self.snr_meter.setRange(0, 30)
        self.snr_meter.setValue(15)
        self.snr_meter.setFormat("SNR: %v dB")
        
        self.ber_meter = QProgressBar()
        self.ber_meter.setRange(0, 100)
        self.ber_meter.setValue(5)
        self.ber_meter.setFormat("BER: %v%")
        
        # Labels
        layout.addWidget(QLabel(" ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì (RSSI):"))
        layout.addWidget(self.rssi_meter)
        layout.addWidget(QLabel(" ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô (SNR):"))
        layout.addWidget(self.snr_meter)
        layout.addWidget(QLabel(" ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î (BER):"))
        layout.addWidget(self.ber_meter)
        
    def update_quality(self, rssi, snr, ber):
        """‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì"""
        # TODO: ‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ
        pass
```

#### 5. ScanHistoryWidget - ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô:

```python
class ScanHistoryWidget(QWidget):
    def setup_ui(self):
        layout = QVBoxLayout(self)
        
        # History table
        self.history_table = QTableWidget()
        self.history_table.setColumnCount(5)
        self.history_table.setHorizontalHeaderLabels([
            "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà", "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Ensemble", "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Service", 
            "‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢", "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"
        ])
        
        # ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á
        self.history_table.setMinimumHeight(200)
        header = self.history_table.horizontalHeader()
        header.setStretchLastSection(True)
        
        layout.addWidget(self.history_table)
        
        # Control buttons
        button_layout = QHBoxLayout()
        self.export_btn = QPushButton(" ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV")
        self.clear_btn = QPushButton(" ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥")
        self.refresh_btn = QPushButton(" ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä")
        
        for btn in [self.export_btn, self.clear_btn, self.refresh_btn]:
            btn.setMinimumSize(120, 40)
            button_layout.addWidget(btn)
            
        layout.addLayout(button_layout)
    
    def load_history(self):
        """‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô"""
        # TODO: ‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        pass
```

### ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:

1. **‡πÉ‡∏ä‡πâ SQLite** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ
2. **‡πÉ‡∏ä‡πâ QThread** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Å GUI
3. **‡πÉ‡∏ä‡πâ QTimer** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö real-time monitoring
4. **‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö UI ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™**

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### 1. GUI Application ‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:
- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 4 ‡∏™‡πà‡∏ß‡∏ô: scanner, stations, quality, history
- ‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏û‡∏£‡πâ‡∏≠‡∏° progress indicator
- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏£‡∏≠‡∏á filter ‡πÑ‡∏î‡πâ
- ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏ö‡∏ö real-time

### 2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö:
```
 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô DAB+ Scanner...
 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ RTL-SDR ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

 ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô DAB+ Band III...
 174.928 MHz: ‡∏û‡∏ö Thai PBS Ensemble (3 services)
 176.640 MHz: ‡∏û‡∏ö Voice TV Ensemble (2 services)  
 178.352 MHz: ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì
 181.936 MHz: ‡∏û‡∏ö Private Network (4 services)

 ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô: 3 ensembles, 9 services
 ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß

 ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:
   RSSI: -52 dBm
   SNR: 18.3 dB  
   BER: 2.1%
```

### 3. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô:
- `dab_stations.db`: ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• SQLite
- `scan_export_*.csv`: ‡πÑ‡∏ü‡∏•‡πå‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- `quality_log_*.json`: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì

## üéØ Trap Exercises

### Trap 4.1: Database Design ‡πÅ‡∏•‡∏∞ Optimization Challenge
**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢**: ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+

**‡πÇ‡∏à‡∏ó‡∏¢‡πå**:
1. ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö database schema ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö ensemble, service, ‡πÅ‡∏•‡∏∞ scan history
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á indexes ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ query
3. Implement database migration system ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó schema
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á backup ‡πÅ‡∏•‡∏∞ restore functionality

**Hints**:
- ‡πÉ‡∏ä‡πâ foreign key ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á ensembles ‡∏Å‡∏±‡∏ö services
- Index frequency, timestamp ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö scan history
- ‡πÉ‡∏ä‡πâ PRAGMA commands ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á SQLite
- WAL mode ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

### Trap 4.2: Advanced Scanning Algorithm
**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢**: ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

**‡πÇ‡∏à‡∏ó‡∏¢‡πå**:
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á adaptive scanning ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö scan time ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì
2. Implement priority-based scanning (‡∏™‡πÅ‡∏Å‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Å‡πà‡∏≠‡∏ô)
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á background monitoring ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß
4. ‡πÉ‡∏ä‡πâ machine learning ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ

**Hints**:
- Strong signal = ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏£‡πá‡∏ß, Weak signal = ‡∏™‡πÅ‡∏Å‡∏ô‡∏ä‡πâ‡∏≤
- ‡πÄ‡∏Å‡πá‡∏ö success rate ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà
- ‡πÉ‡∏ä‡πâ threading ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö background monitoring
- Simple ML: ‡πÉ‡∏ä‡πâ historical data ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ probability

### Trap 4.3: Signal Quality Analysis ‡πÅ‡∏•‡∏∞ Visualization
**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢**: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

**‡πÇ‡∏à‡∏ó‡∏¢‡πå**:
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á real-time signal quality dashboard
2. Implement signal quality trending ‡πÅ‡∏•‡∏∞ alerting system
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á coverage map visualization
4. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå correlation ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏ß‡∏•‡∏≤/‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏® ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì

**Hints**:
- ‡πÉ‡∏ä‡πâ matplotlib ‡∏´‡∏£‡∏∑‡∏≠ pyqtgraph ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö real-time plotting
- Moving average ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö signal trending
- GPS coordinates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö coverage mapping
- ‡πÄ‡∏Å‡πá‡∏ö timestamp ‡πÅ‡∏•‡∏∞ weather data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö correlation

### Trap 4.4: Touch-Optimized GUI Design
**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢**: ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ 7"

**‡πÇ‡∏à‡∏ó‡∏¢‡πå**:
1. ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö responsive layout ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏¥‡πâ‡∏ß
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á gesture support (swipe, pinch-to-zoom)
3. Implement custom widgets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ
4. ‡πÄ‡∏û‡∏¥‡πà‡∏° accessibility features (‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£, contrast)

**Hints**:
- Touch targets ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 44x44 pixels
- ‡πÉ‡∏ä‡πâ QScroller ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö smooth scrolling
- Custom QWidget ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö station display cards
- QSettings ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö user preferences

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: ‡∏™‡πÅ‡∏Å‡∏ô‡∏ä‡πâ‡∏≤
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```python
# ‡∏õ‡∏£‡∏±‡∏ö timeout ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà
scan_timeout = 5  # ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏ó‡∏ô 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

# ‡πÉ‡∏ä‡πâ threading pool
from concurrent.futures import ThreadPoolExecutor
with ThreadPoolExecutor(max_workers=3) as executor:
    futures = [executor.submit(scan_frequency, freq) for freq in frequencies]
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: Database locked
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```python
# ‡πÉ‡∏ä‡πâ context manager
with sqlite3.connect(self.db_path, timeout=30.0) as conn:
    cursor = conn.cursor()
    # database operations

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ WAL mode
conn.execute("PRAGMA journal_mode=WAL")
```

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô

1. **DAB+ Ensemble ‡πÅ‡∏•‡∏∞ Service ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - ‡∏ï‡∏≠‡∏ö: Ensemble ‡∏Ñ‡∏∑‡∏≠ multiplex ‡∏ó‡∏µ‡πà‡∏°‡∏µ Service ‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß, Service ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ

2. **‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Database ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ?**
   - ‡∏ï‡∏≠‡∏ö: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ filter ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

3. **Signal Quality Parameters ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - ‡∏ï‡∏≠‡∏ö: RSSI = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì, SNR = ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô, BER = ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: Lab ‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+ ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ
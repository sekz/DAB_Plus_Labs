# LAB 2: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô welle.io ‡∏ú‡πà‡∏≤‡∏ô Python

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° welle.io ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì DAB+
- ‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+ ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡πà‡∏≤‡∏ô PyQt5 GUI
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ó‡∏≤‡∏î‡∏≤‡∏ï‡πâ‡∏≤ (‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á, ‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô) ‡πÅ‡∏•‡∏∞‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå
- ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™

## ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏à‡∏≤‡∏Å Lab 1 (RTL-SDR ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)
- PyQt5 GUI programming ‡πÅ‡∏•‡∏∞ QMediaPlayer
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö DAB+ protocol ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á subprocess ‡πÅ‡∏•‡∏∞ threading

## ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- **Raspberry Pi 4** ‡∏û‡∏£‡πâ‡∏≠‡∏° RTL-SDR V4 dongle (‡∏à‡∏≤‡∏Å Lab 1)
- **‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ HDMI 7"** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° GUI
- **‡∏´‡∏π‡∏ü‡∏±‡∏á 3.5mm** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á DAB+
- **‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏® DAB/FM** ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏µ
- **‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡πá‡∏ï** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î welle.io

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á welle.io ‡πÅ‡∏•‡∏∞ Dependencies:

```bash
# ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥)
sudo apt update && sudo apt upgrade -y

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Qt5 development packages ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö welle.io
sudo apt install -y qt5-qmake qtbase5-dev qtchooser
sudo apt install -y qtmultimedia5-dev libqt5multimedia5-plugins
sudo apt install -y qttools5-dev-tools

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á audio codecs ‡πÅ‡∏•‡∏∞ libraries
sudo apt install -y libfaad-dev libmpg123-dev libfftw3-dev
sudo apt install -y libasound2-dev pulseaudio pavucontrol

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á build tools (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)
sudo apt install -y cmake build-essential git pkg-config

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Python multimedia packages
sudo apt install -y python3-pyqt5.qtmultimedia
pip3 install pydub soundfile
```

### ‡∏Ñ‡∏≠‡∏°‡πÑ‡∏û‡∏•‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á welle.io ‡∏à‡∏≤‡∏Å‡∏ã‡∏≠‡∏£‡πå‡∏™:

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πÄ‡∏£‡∏Å‡∏ó‡∏≠‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö compile
cd /tmp

# ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î welle.io source code
git clone https://github.com/AlbrechtL/welle.io.git
cd welle.io

# ‡∏™‡∏£‡πâ‡∏≤‡∏á build directory
mkdir build && cd build

# Configure build ‡∏î‡πâ‡∏ß‡∏¢ CMAKE
cmake .. -DRTLSDR=ON -DCLI=ON -DGUI=ON -DPROFILING=OFF

# ‡∏Ñ‡∏≠‡∏°‡πÑ‡∏û‡∏•‡πå (‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 15-30 ‡∏ô‡∏≤‡∏ó‡∏µ)
make -j$(nproc)

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
sudo make install

# ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó library cache
sudo ldconfig

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
which welle-io
welle-io --help
```

### ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Audio Output ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3.5mm Jack:

```bash
# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á 3.5mm jack
sudo raspi-config nonint do_audio 1

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ALSA default device
cat > ~/.asoundrc << 'EOF'
pcm.!default {
    type hw
    card 0
    device 0
}
ctl.!default {
    type hw
    card 0
}
EOF

# ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó audio service
sudo systemctl restart alsa-state
pulseaudio -k  # ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó PulseAudio

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
speaker-test -t wav -c 2 -l 1
```

### ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ permissions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Audio:

```bash
# ‡πÄ‡∏û‡∏¥‡πà‡∏° user ‡πÉ‡∏ô audio group
sudo usermod -a -G audio $USER

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ PulseAudio ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö system mode (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
sudo systemctl --global disable pulseaudio.service pulseaudio.socket
sudo systemctl enable pulseaudio.service

# logout ‡πÅ‡∏•‡∏∞ login ‡πÉ‡∏´‡∏°‡πà
```

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö welle.io Command Line

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
welle-io --help

# ‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö headless (‡πÑ‡∏°‡πà‡∏°‡∏µ GUI)
welle-io -c headless_mode

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö scan ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 5A = 174.928 MHz)
welle-io -c headless_mode -f 174928000
```

### 2. ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà DAB+ ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢

| Channel | Frequency (MHz) | Block |
|---------|-----------------|-------|
| 5A      | 174.928        | III   |
| 5B      | 176.640        | III   |
| 5C      | 178.352        | III   |
| 5D      | 180.064        | III   |
| 6A      | 181.936        | III   |
| 6B      | 183.648        | III   |
| 6C      | 185.360        | III   |
| 6D      | 187.072        | III   |
| 7A      | 188.928        | III   |
| 7B      | 190.640        | III   |
| 7C      | 192.352        | III   |
| 7D      | 194.064        | III   |

### 3. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Lab GUI

```bash
cd Labs/Lab2
python3 lab2.py
```

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î

### ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô `lab2.py`:

#### 1. ‡∏Ñ‡∏•‡∏≤‡∏™ WelleIOController:

```python
class WelleIOController(QThread):
    station_found = pyqtSignal(dict)
    audio_data = pyqtSignal(str)  # audio file path
    metadata_update = pyqtSignal(dict)
    slideshow_update = pyqtSignal(str)  # image path
    error_occurred = pyqtSignal(str)
    
    def start_welle_io(self, frequency=None):
        try:
            cmd = ['welle-io', '-c', 'headless_mode']
            if frequency:
                cmd.extend(['-f', str(int(frequency * 1000000))])  # MHz -> Hz
            
            self.welle_process = subprocess.Popen(
                cmd,
                stdout=subprocess.PIPE,
                stderr=subprocess.PIPE,
                text=True
            )
            # ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° output ‡πÉ‡∏ô thread ‡πÅ‡∏¢‡∏Å
            self.start()  # ‡πÄ‡∏£‡∏¥‡πà‡∏° run() method
            
        except Exception as e:
            self.error_occurred.emit(f"‡πÄ‡∏£‡∏¥‡πà‡∏° welle.io ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: {str(e)}")
```

#### 2. ‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ:

```python
def scan_dab_stations(self, frequency_range=None):
    """‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+ ‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î"""
    if not frequency_range:
        # ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà DAB+ Band III ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏ó‡∏¢
        frequency_range = [174.928, 176.640, 178.352, 180.064, 181.936, 
                          183.648, 185.360, 187.072, 188.928, 190.640]
    
    for freq in frequency_range:
        try:
            # ‡∏£‡∏±‡∏ô welle-io ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà
            result = subprocess.run(
                ['welle-io', '-c', 'headless_mode', '-f', str(int(freq * 1000000))],
                capture_output=True,
                text=True,
                timeout=10
            )
            
            # ‡πÅ‡∏õ‡∏•‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ
            stations = self.parse_ensemble_info(result.stdout, freq)
            
            for station in stations:
                self.station_found.emit(station)
                
        except subprocess.TimeoutExpired:
            continue
        except Exception as e:
            self.error_occurred.emit(f"‡∏™‡πÅ‡∏Å‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà {freq} MHz ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: {str(e)}")
```

#### 3. ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á:

```python
class AudioPlayer(QWidget):
    def __init__(self):
        super().__init__()
        self.media_player = QMediaPlayer()
        self.setup_ui()
        self.setup_audio_connections()
        
    def setup_ui(self):
        layout = QVBoxLayout(self)
        
        # ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
        control_layout = QHBoxLayout()
        self.play_btn = QPushButton(" ‡πÄ‡∏•‡πà‡∏ô")
        self.stop_btn = QPushButton(" ‡∏´‡∏¢‡∏∏‡∏î")
        self.play_btn.setMinimumSize(80, 50)
        self.stop_btn.setMinimumSize(80, 50)
        
        control_layout.addWidget(self.play_btn)
        control_layout.addWidget(self.stop_btn)
        layout.addLayout(control_layout)
        
        # Volume control
        volume_layout = QHBoxLayout()
        volume_layout.addWidget(QLabel(" ‡πÄ‡∏™‡∏µ‡∏¢‡∏á:"))
        self.volume_slider = QSlider(Qt.Horizontal)
        self.volume_slider.setRange(0, 100)
        self.volume_slider.setValue(70)
        self.volume_slider.setMinimumHeight(40)
        volume_layout.addWidget(self.volume_slider)
        layout.addLayout(volume_layout)
        
        # ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
        self.status_label = QLabel("‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡πà‡∏ô")
        layout.addWidget(self.status_label)
        
    def setup_audio_connections(self):
        self.play_btn.clicked.connect(self.play_audio)
        self.stop_btn.clicked.connect(self.stop_audio)
        self.volume_slider.valueChanged.connect(self.set_volume)
        self.media_player.stateChanged.connect(self.on_state_changed)
        
    def play_audio(self, audio_source=None):
        if audio_source:
            # ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏£‡∏∑‡∏≠ stream
            if os.path.exists(audio_source):
                url = QUrl.fromLocalFile(audio_source)
                self.media_player.setMedia(QMediaContent(url))
            else:
                # Stream URL
                url = QUrl(audio_source)
                self.media_player.setMedia(QMediaContent(url))
        
        self.media_player.play()
        
    def stop_audio(self):
        self.media_player.stop()
        
    def set_volume(self, volume):
        self.media_player.setVolume(volume)
```

#### 4. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Metadata ‡πÅ‡∏•‡∏∞ Slideshow:

```python
class MetadataWidget(QWidget):
    def setup_ui(self):
        layout = QVBoxLayout(self)
        
        # Metadata display
        metadata_group = QGroupBox("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏•‡∏á")
        metadata_layout = QVBoxLayout(metadata_group)
        
        self.song_label = QLabel("‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á: -")
        self.artist_label = QLabel("‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô: -")
        self.album_label = QLabel("‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°: -")
        self.extra_label = QLabel("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: -")
        
        # ‡∏õ‡∏£‡∏±‡∏ö font size ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™
        for label in [self.song_label, self.artist_label, self.album_label]:
            label.setStyleSheet("font-size: 12px; padding: 5px;")
            label.setWordWrap(True)
        
        metadata_layout.addWidget(self.song_label)
        metadata_layout.addWidget(self.artist_label)
        metadata_layout.addWidget(self.album_label)
        metadata_layout.addWidget(self.extra_label)
        layout.addWidget(metadata_group)
        
        # Slideshow display
        slideshow_group = QGroupBox("‡∏™„É©„Ç§‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå")
        slideshow_layout = QVBoxLayout(slideshow_group)
        
        self.slideshow_label = QLabel("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û")
        self.slideshow_label.setMinimumSize(200, 150)
        self.slideshow_label.setAlignment(Qt.AlignCenter)
        self.slideshow_label.setStyleSheet("""
            QLabel {
                border: 2px dashed #bdc3c7;
                border-radius: 8px;
                background-color: #f8f9fa;
            }
        """)
        slideshow_layout.addWidget(self.slideshow_label)
        
        # ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ
        self.save_image_btn = QPushButton(" ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ")
        self.save_image_btn.setMinimumSize(120, 40)
        slideshow_layout.addWidget(self.save_image_btn)
        
        layout.addWidget(slideshow_group)
        
    def update_metadata(self, metadata):
        """‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó metadata"""
        self.song_label.setText(f"‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á: {metadata.get('title', '-')}")
        self.artist_label.setText(f"‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô: {metadata.get('artist', '-')}")
        self.album_label.setText(f"‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°: {metadata.get('album', '-')}")
        self.extra_label.setText(f"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: {metadata.get('extra', '-')}")
        
    def update_slideshow(self, image_path):
        """‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏π‡∏õ slideshow"""
        if os.path.exists(image_path):
            pixmap = QPixmap(image_path)
            # ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡∏Å‡∏±‡∏ö label
            scaled_pixmap = pixmap.scaled(
                self.slideshow_label.size(),
                Qt.KeepAspectRatio,
                Qt.SmoothTransformation
            )
            self.slideshow_label.setPixmap(scaled_pixmap)
            self.current_image_path = image_path
        else:
            self.slideshow_label.setText("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ")
```

#### 5. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Main Window:

```python
def setup_ui(self):
    central_widget = QWidget()
    self.setCentralWidget(central_widget)
    main_layout = QVBoxLayout(central_widget)
    
    # Title
    title_label = QLabel("LAB 2: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô welle.io ‡∏ú‡πà‡∏≤‡∏ô Python")
    title_label.setAlignment(Qt.AlignCenter)
    title_label.setStyleSheet("""
        font-size: 18px; font-weight: bold; color: #2c3e50;
        padding: 10px; background-color: #ecf0f1; border-radius: 8px;
    """)
    main_layout.addWidget(title_label)
    
    # ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
    button_layout = QHBoxLayout()
    self.start_btn = QPushButton(" ‡πÄ‡∏£‡∏¥‡πà‡∏° welle.io")
    self.scan_btn = QPushButton(" ‡∏™‡πÅ‡∏Å‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ")
    self.play_btn = QPushButton(" ‡πÄ‡∏•‡πà‡∏ô")
    self.record_btn = QPushButton(" ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å")
    
    # ‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™
    for btn in [self.start_btn, self.scan_btn, self.play_btn, self.record_btn]:
        btn.setMinimumSize(120, 50)
        btn.setStyleSheet("""
            QPushButton {
                border: 2px solid #34495e;
                border-radius: 8px;
                background: qlineargradient(x1:0, y1:0, x2:0, y2:1,
                    stop:0 #3498db, stop:1 #2980b9);
                color: white;
                font-weight: bold;
                font-size: 12px;
            }
            QPushButton:pressed {
                background: #2980b9;
            }
        """)
    
    button_layout.addWidget(self.start_btn)
    button_layout.addWidget(self.scan_btn)
    button_layout.addWidget(self.play_btn)
    button_layout.addWidget(self.record_btn)
    main_layout.addLayout(button_layout)
    
    # ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å - 3 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå
    content_splitter = QSplitter(Qt.Horizontal)
    
    # 1. Station List (‡∏ã‡πâ‡∏≤‡∏¢)
    self.station_widget = StationListWidget()
    content_splitter.addWidget(self.station_widget)
    
    # 2. Audio Player (‡∏Å‡∏•‡∏≤‡∏á)
    self.audio_widget = AudioPlayer()
    content_splitter.addWidget(self.audio_widget)
    
    # 3. Metadata & Slideshow (‡∏Ç‡∏ß‡∏≤)
    self.metadata_widget = MetadataWidget()
    content_splitter.addWidget(self.metadata_widget)
    
    # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î
    content_splitter.setSizes([300, 300, 300])
    main_layout.addWidget(content_splitter, 1)
    
    # Status bar
    self.status_label = QLabel("‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏î '‡πÄ‡∏£‡∏¥‡πà‡∏° welle.io'")
    self.status_label.setStyleSheet("padding: 5px; background-color: #ecf0f1;")
    main_layout.addWidget(self.status_label)
```

### ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:

1. **‡πÉ‡∏ä‡πâ subprocess.Popen()** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° welle.io ‡πÅ‡∏ö‡∏ö interactive
2. **‡πÉ‡∏ä‡πâ QThread** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô
3. **‡πÉ‡∏ä‡πâ QMediaPlayer** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡πà‡∏≤‡∏ô Qt framework
4. **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ metadata** ‡∏î‡πâ‡∏ß‡∏¢ JSON ‡∏´‡∏£‡∏∑‡∏≠ text parsing
5. **‡πÉ‡∏ä‡πâ QPixmap** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ slideshow

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### 1. GUI Application ‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:
- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏™‡πà‡∏ß‡∏ô: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ, ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô, metadata
- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™
- ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö real-time
- Volume control ‡∏û‡∏£‡πâ‡∏≠‡∏° slider

### 2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö:
```
 ‡πÄ‡∏£‡∏¥‡πà‡∏° welle.io...
 welle.io ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

 ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+...
 ‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ: Thai PBS Radio (174.928 MHz)
 ‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ: NBT Radio (176.640 MHz)
 ‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ: Voice TV Radio (178.352 MHz)

 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á: Thai PBS Radio
 ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô: ‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏ó‡∏¢ - ‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡πÑ‡∏ó‡∏¢
Ô∏è ‡∏£‡∏±‡∏ö slideshow: ‡πÇ‡∏•‡πÇ‡∏Å‡πâ Thai PBS

 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...
 ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á: recordings/thai_pbs_20241208_143000.wav
```

### 3. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô:
- `recordings/*.wav`: ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
- `slideshows/*.jpg`: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û slideshow
- `metadata/*.json`: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• metadata
- `station_list.json`: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ó‡∏µ‡πà‡∏û‡∏ö

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: welle.io ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `welle-io` command ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡∏£‡∏∑‡∏≠ error

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
which welle-io
ldd $(which welle-io)  # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö libraries

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å source
cd /tmp/welle.io/build
sudo make uninstall
sudo make install
sudo ldconfig
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: GUI ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö audio devices
aplay -l
amixer scontrols

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ default audio output
sudo raspi-config  # ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Advanced Options > Audio > Force 3.5mm

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á
speaker-test -t wav -c 2
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: ‡∏™‡πÅ‡∏Å‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RTL-SDR
rtl_test -t

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
# - ‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏≤ DAB/FM ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
# - ‡∏ß‡∏≤‡∏á‡πÄ‡∏™‡∏≤‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏•‡πà‡∏á
# - ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏ö‡∏Å‡∏ß‡∏ô

# ‡∏•‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô
welle-io -c headless_mode -f 181936000  # 6A channel
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: GUI ‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏≤‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```python
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö threading ‡πÉ‡∏ô code
# ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ long-running operations ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô QThread
# ‡πÉ‡∏ä‡πâ signals/slots ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£

# ‡πÄ‡∏û‡∏¥‡πà‡∏° progress indicators
self.progress_bar.setValue(progress_value)
QApplication.processEvents()  # ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó GUI ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 5: Slideshow ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```python
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ decode ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
def update_slideshow(self, image_path):
    if os.path.exists(image_path) and os.path.getsize(image_path) > 0:
        try:
            pixmap = QPixmap(image_path)
            if not pixmap.isNull():
                scaled_pixmap = pixmap.scaled(200, 150, Qt.KeepAspectRatio)
                self.slideshow_label.setPixmap(scaled_pixmap)
            else:
                self.slideshow_label.setText("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ")
        except Exception as e:
            logger.error(f"Slideshow error: {str(e)}")
```

## üéØ Trap Exercises LAB 2

### **Trap 2.1: DAB+ Frequency Planning**
‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ scan ‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:
- ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà DAB+ ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ (Band III: 174-240 MHz)
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2-3 frequencies ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ signal ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà
- ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ensemble ‡πÅ‡∏•‡∏∞ service
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ß‡πà‡∏≤ RTL-SDR ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÑ‡∏´‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà:**
```
DAB+ ‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢ (‡∏ï‡∏≤‡∏° NBTC):
- Channel 5C: 178.352 MHz
- Channel 6C: 185.360 MHz
- Channel 7C: 192.352 MHz
- Channel 8C: 199.360 MHz
```

### **Trap 2.2: welle.io Integration Challenge**
‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á welle.io ‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á command line ‡πÅ‡∏•‡∏∞ GUI mode
- ‡∏Å‡∏≤‡∏£ parse output ‡∏à‡∏≤‡∏Å welle.io subprocess
- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á welle.io
- ‡∏Å‡∏≤‡∏£ handle errors ‡πÄ‡∏°‡∏∑‡πà‡∏≠ welle.io crash

**‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î:**
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö welle.io command line
welle-io -h  # ‡∏î‡∏π help options
welle-io -c -D rtl_sdr -C 6C  # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö channel 6C

# Monitor output ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
welle-io -v 2>&1 | tee welle_output.log
```

### **Trap 2.3: Audio Routing Investigation**
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å DAB+ ‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
- ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á ALSA vs PulseAudio ‡∏ö‡∏ô Pi
- ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏™‡∏µ‡∏¢‡∏á (sample rate, bit depth) ‡∏Ç‡∏≠‡∏á DAB+
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ audio buffer ‡πÅ‡∏•‡∏∞ latency
- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‡∏´‡∏π‡∏ü‡∏±‡∏á 3.5mm ‡πÅ‡∏•‡∏∞ HDMI audio

**‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö audio devices
aplay -l
pacmd list-sinks

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö audio routing
pactl set-default-sink alsa_output.platform-soc_audio.analog-stereo

# Monitor audio levels
pavucontrol &  # GUI volume control
alsamixer      # Command line mixer
```

### **Trap 2.4: Metadata ‡πÅ‡∏•‡∏∞ Slideshow Analysis**
‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô metadata handling ‡πÉ‡∏´‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:
- ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á PAD (Programme Associated Data)
- ‡∏Å‡∏≤‡∏£ decode Dynamic Label Segment (DLS)
- ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á MOT Slideshow (JPEG encoding)
- ‡∏Å‡∏≤‡∏£ sync ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á audio ‡πÅ‡∏•‡∏∞ visual data

**‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á:**
```python
# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á metadata structure
metadata_example = {
    'dls_text': '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á - ‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô',
    'mot_image': '/tmp/slideshow.jpg',
    'program_type': 'Music',
    'bitrate': '128 kbps'
}

# ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå image file
from PIL import Image
img = Image.open('/tmp/slideshow.jpg')
print(f"Image size: {img.size}")
print(f"Image format: {img.format}")
```

### **Trap 2.5: GUI Threading ‡πÅ‡∏•‡∏∞ Performance**
‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô GUI ‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:
- ‡∏ó‡∏≥‡πÑ‡∏° audio processing ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô separate thread
- ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ QTimer vs QThread ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö periodic updates
- Memory management ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö slideshow images
- ‡∏Å‡∏≤‡∏£ optimize GUI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Raspberry Pi performance

**Performance Testing:**
```python
import psutil
import time

# Monitor resource usage
def monitor_performance():
    process = psutil.Process()
    cpu_percent = process.cpu_percent()
    memory_info = process.memory_info()
    print(f"CPU: {cpu_percent}%, Memory: {memory_info.rss / 1024 / 1024:.1f} MB")

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á audio playback
timer = QTimer()
timer.timeout.connect(monitor_performance)
timer.start(5000)  # ‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô

1. **DAB+ ‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å FM ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - ‡∏ï‡∏≠‡∏ö: DAB+ ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•, ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤, ‡∏°‡∏µ metadata ‡πÅ‡∏•‡∏∞ slideshow

2. **‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ QThread ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö welle.io?**
   - ‡∏ï‡∏≠‡∏ö: welle.io ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• ‡∏´‡∏≤‡∏Å run ‡πÉ‡∏ô main thread ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ GUI ‡∏Ñ‡πâ‡∏≤‡∏á

3. **QMediaPlayer vs ‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô?**
   - ‡∏ï‡∏≠‡∏ö: QMediaPlayer integrate ‡∏î‡∏µ‡∏Å‡∏±‡∏ö Qt, ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö audio routing ‡πÅ‡∏•‡∏∞ volume control

4. **Slideshow ‡πÉ‡∏ô DAB+ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - ‡∏ï‡∏≠‡∏ö: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô PAD (Programme Associated Data) ‡πÉ‡∏ô JPEG format

5. **‡∏Å‡∏≤‡∏£ tuning ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - ‡∏ï‡∏≠‡∏ö: ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á frequency ‡πÅ‡∏•‡∏∞ service ID ‡πÑ‡∏õ‡∏¢‡∏±‡∏á welle.io process

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: Lab ‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ DAB+ ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô